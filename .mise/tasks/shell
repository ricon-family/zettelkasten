#!/usr/bin/env bash
#MISE description="Output shell configuration for global zettel command (use with eval)"

# Usage: Add to ~/.zshrc or ~/.bashrc:
#   export ZETTEL_ROOT="$HOME/path/to/your/zettelkasten"
#   eval "$(mise -C /path/to/zettelkasten-tooling run -q shell)"

REPO_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/../.." && pwd)"

# Warn if ZETTEL_ROOT not set
if [ -z "$ZETTEL_ROOT" ]; then
  echo "# WARNING: ZETTEL_ROOT not set. Set it before this eval:" >&2
  echo "#   export ZETTEL_ROOT=\"\$HOME/path/to/your/zettelkasten\"" >&2
fi

echo "alias zettel='mise -C \"$REPO_DIR\" run'"
